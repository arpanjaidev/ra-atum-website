<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Redirecting to Ra Atum Wallet…</title>
  <meta http-equiv="refresh" content="3; url=https://wallet.raatumtoken.com/">
  <style>
    body { background:#0e1018; color:#e7f6ff; font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji"; display:flex; align-items:center; justify-content:center; height:100vh; margin:0; }
    .box { text-align:center; max-width:640px; padding:24px; border:2px solid #00b4fa; border-radius:14px; background:#131622; box-shadow:0 8px 32px #00b4fa33; }
    .hint { color:#7fbbed; font-size:14px; margin-top:10px; }
    a { color:#00b4fa; text-decoration:none; font-weight:600; }
  </style>
</head>
<body>
  <div class="box">
    <h1>Redirecting to Ra Atum Wallet…</h1>
    <p class="hint">If you’re not redirected automatically, <a id="direct" href="https://wallet.raatumtoken.com/">click here</a>.</p>
  </div>
  <script>
    (function () {
      function getCookieRef() {
        try {
          var m = document.cookie.match(/(?:^|;\s*)ra_ref=([^;]+)/);
          return m ? decodeURIComponent(m[1]) : null;
        } catch (e) { return null; }
      }
      function getLSRef() {
        try { return localStorage.getItem('ra_ref'); } catch (e) { return null; }
      }
      function getRef() {
        try {
          var cur = new URL(window.location.href);
          var qref = cur.searchParams.get('ref');
          if (qref && /^0x[a-fA-F0-9]{40}$/.test(qref)) return qref;
        } catch (e) {}
        var cref = getCookieRef();
        if (cref && /^0x[a-fA-F0-9]{40}$/.test(cref)) return cref;
        var lref = getLSRef();
        if (lref && /^0x[a-fA-F0-9]{40}$/.test(lref)) return lref;
        return null;
      }

      try {
        var cur = new URL(window.location.href);
        var target = new URL('https://wallet.raatumtoken.com/');

        // carry over current query string (if any)
        if (cur.search) target.search = cur.search;

        // ensure ?ref= is present if we have a valid ref
        var ref = getRef();
        if (ref && !target.searchParams.has('ref')) {
          target.searchParams.set('ref', ref);
        }

        // update visible link + navigate
        var href = target.toString();
        var a = document.getElementById('direct');
        if (a) a.href = href;
        window.location.replace(href);
      } catch (e) {
        // fallback: leave the meta refresh + manual link to base
      }
    })();
  </script>
</body>
</html>
